Metabolism
----------
The following is a quote from a 2007 interview with Freeman Dyson.

"We know modern life has both metabolism and replication, but they're carried
out by separate groups of molecules. Metabolism is carried out by proteins and
all kinds of small molecules, and replication is carried out by DNA and RNA.
That maybe is a clue to the fact that they started out separate rather than
together. So my version of the origin of life is it started with metabolism
only.

You had what I call the garbage bag model. The early cells were just little
bags of some kind of cell membrane, which might have been oily or it might have
been a metal oxide.  And inside you had a more or less random collection of
organic molecules, with the characteristic that small molecules could diffuse
in through the membrane, but big molecules could not diffuse out. By converting
small molecules into big molecules, you could concentrate the organic contents
on the inside, so the cells would become more concentrated and the chemistry
would gradually become more efficient. So these things could evolve without any
kind of replication.  It's a simple statistical inheritance.  When a cell
became so big that it got cut in half, or shaken in half, by some rainstorm or
environmental disturbance, it would then produce two cells which would be its
daughters, which would inherit, more or less, but only statistically, the
chemical machinery inside.  Evolution could work under those conditions."


Implementation
--------------

So basically, he thinks evolution started as a Lamarckian process, and then
something happened later on to introduce functionality for replication and
inherited genetic material.

How would we implement this? We really only need one fundamental operation,
which is metabolism. In the python implementation of bees in this repo, we had
two "object types" in the environment, which were agents and food.

This seems wrong. Probably better to have everything be an agent. Garbage bags
maybe form randomly, so they're drawn from some distribution. All agents are
functions, which take in some input.

Perhaps when an agent subsumes another agent, this is represented as function
composition?

Okay so there's got to be some sort of notion of an "observation" which is made
at each timestep. What can agents see? Let's take a 2D grid world, do we want
to give them structured data? A matrix of inputs around them? This seems a
little too advanced. It's like they're these little bags of organic molecules
made up of a lipid membrane, but they have fully-formed human eyes for some
reason.

We want them to be able to access information about their environment if they
happen to evolve a mechanism for doing so. Vision seems like one of the more
complicated senses, though. What senses do bacteria have, or protozoa?
Archaea?

It probably doesn't make any sense to take lessons from eukaryotes. Modern-day
archaea are already super-evolved from whatever the first garbage bag
"organisms" looked like, if that model is true.

It seems like we want the most simplified model of interactions between an
agent and its surrounding chemistry as is possible. Perhaps the environment
randomly fluctuates in temperature, and temperature can vary across location.
Perhaps it's a smooth scalar field or something, so just a C-infty function on
a manifold.

Propulsion is probably another thing which is wayyyyyy too complex to hardcode
into the agents. It probably took a ton of generations for even the most basic
functionality for propulsion to develop.

It might not even make sense to have it be a gridworld.

I'm not so sure about this one, but if we really wanted observations, we might
want to use vector masks, so it can see all possible observations in a tensor,
but most of it tends to be masked out, just statistically, but if it evolves to
want to unmask stuff, then we know it's getting some use of the inputs.

On second thought, maybe we don't want everything to be an agent. The first
protocells definitely didn't eat other protocells, because there weren't many
protocells around. They probably ate non-cell-like things. Chemicals, minerals,
who knows what. Probably organic molecules, but possibly other things.

Here's a question, what are a garbage bag's inputs and outputs? Or to frame it
as a reinforcement learning problem, what are its action space and observation
space? One or both of these could, maybe should, be the empty set. Certainly
the first garbage bags could not make any observations in any meaningful way.
So let's let that space be empty. And its action space, well it can metabolize,
but it doesn't make a decision, it's stochastic. It metabolizes anything small
enough to pass through its membrane, so maybe that should be empty as well. So
it makes no observations and takes no actions. Things happen to it, it doesn't
do anything.

Perhaps stuff can pass out of the membrane as well. If it can pass in, it can
probably pass out. So maybe stuff passes out only if it doesn't combine and
become too big to pass back out.

Okay, so let's call the food, the stuff in the bags, let's call those
molecules. So molecules can combine within the bag. Perhaps they should be able
to break apart as well, not sure about that.

So the big question is, how does the cell make the transition from an entity
that only has things happen to it, to an entity which does things? Well, the
simplest example might be that the cell changes size when it metabolizes. Maybe
there are currents in this world, and the currents affect different-sized cells
differently. Perhaps the molecules have mass, and that changes things as well.
So already we have some things happening, because a cell that gets bigger might
move differently than a cell that stays smaller, and so in that way it might
"do" things, kind of.

Another fundamental question, can the properties of the membrane change? Does
the membrane have a fixed filter-size, or can that be modified? If it could be
modified, there is really only one event we have that could modify it: contact
with a molecule. Maybe this could be one of the things that could happen during
metabolization. Or maybe it could be contact from outside the cell. Who knows.
Inside is probably better, because then the state of the membrane controls the
future state of the membrane, and that is good.

So now we have two things that have state, the membrane and the cell itself.
This seems bad, so maybe just the cell has state, and the membrane's state *is*
the cell's state. The membrane's filter-size is a stochastic function of the
molecules contained in the cell.

Perhaps we should have some way for molecules to decompose? Decompose on their
own? We already have aggregation, so we should have decomposition as well,
that's very symmetric and symmetry is nice.

We should try to distill the simplest possible system that can give rise to the
sort of behavior we want. So let's say we're sticking with a 1-dimensional
world for now.

So we said maybe there are currents, this could just be vector field on a
manifold, just like temperature. Perhaps the temperature determines the
currents, so then we only need one vector field, that is nice. And actually
it's a scalar field, the vector at each point points toward the gradient of the
scalar field at that point or something.

Fundamental mechanics
---------------------
These are things that should ABSOLUTELY be in any implementation.

Time:         the state of the entire system can change during each timestep

Movement:     objects can change position, at least the molecules can change
              position, the garbage bags might not need to, they could
              filter-feed

Division:     when garbage bags get too big, they split into two new garbage
              bags, and their positions are sampled from some distribution

Metabolism:   sufficiently small molecules can pass through the membrane in
              either direction, sufficiently large molecules cannot

Aggregation:  molecules can combine within a garbage bag


Things to look at
-----------------
chemotaxis
non-motile bacteria
bacterial motility
evolution of flagella
molecular dynamics
coarse-grained modeling
domain decomposition method
anton (DE Shaw supercomputer)
molecular modeling on GPU
comparison of force field implementations
comparison of software for molecular mechanics modeling
discrete element method (maybe too slow)
self-replicating polymers
autocatalysis
autocatalytic sets
coacervate theory


References
----------
Vasas V, Szathmáry E, Santos M. Lack of evolvability in self-sustaining
autocatalytic networks constraints metabolism-first scenarios for the origin of
life. Proc Natl Acad Sci U S A. 2010;107(4):1470-1475.
doi:10.1073/pnas.0912628107

This paper claims that the garbage bag model is garbage.



Vasas, V., Fernando, C., Santos, M. et al. Evolution before genes. Biol Direct
7, 1 (2012). https://doi.org/10.1186/1745-6150-7-1

This paper (by the same! authors) claims that it isn't as garbage as they
thought in 2010.



Vasas, Vera & Fernando, Chrisantha & Szilágyi, András & Zachar, István &
Santos, Mauro & Szathmáry, Eörs. (2015). Primordial evolvability: Impasses and
challenges. Journal of theoretical biology. 381. 29-38.
10.1016/j.jtbi.2015.06.047. 

This is a follow up to the top two papers.



Would be a good idea to look at papers by mathematicians which cite these
papers, and to look at their references.


Questions
---------
How did bacterial evolve to become motile?
